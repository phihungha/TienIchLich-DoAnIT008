<UserControl x:Class="TienIchLich.Views.MainWorkspace"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:views="clr-namespace:TienIchLich.Views"
             xmlns:custom_controls="clr-namespace:TienIchLich.MonthEventCalendarControl"
             mc:Ignorable="d"
             xmlns:dragablz="clr-namespace:Dragablz;assembly=Dragablz"
             d:DesignHeight="450" d:DesignWidth="800">
    <!-- Main workspace view -->
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>
        
        <Grid Grid.Row="0" HorizontalAlignment="Right">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Button Command="{Binding AddEventCommand}" 
                    Margin="0,25,30,10"
                    Content="Thêm sự kiện" 
                    Style="{StaticResource MaterialDesignRaisedLightButton}" Background="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}">
                <Button.Foreground>
                    <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.ControlLightLightColorKey}}"/>
                </Button.Foreground>
            </Button>
        </Grid>

        <dragablz:TabablzControl Grid.Row="1" SelectedIndex="1">
            <dragablz:TabablzControl.BorderBrush>
                <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.MenuHighlightColorKey}}"/>
            </dragablz:TabablzControl.BorderBrush>
            <dragablz:TabablzControl.InterTabController>
                <dragablz:InterTabController/>
            </dragablz:TabablzControl.InterTabController>
            <!-- Upcoming event overview -->
            <TabItem>
                <TabItem.Header>
                    <TextBlock FontWeight="Bold" FontSize="14">
                        <TextBlock.Foreground>
                            <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.ControlLightLightColorKey}}"/>
                        </TextBlock.Foreground>Tóm tắt</TextBlock>
                </TabItem.Header>
                <views:UpcomingOverviewView DataContext="{Binding UpcomingOverviewVM}" />
            </TabItem>
            <!-- Calendar month view -->
            <TabItem>
                <TabItem.Header>
                    <TextBlock FontWeight="Bold" FontSize="14">
                        <TextBlock.Foreground>
                            <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.ControlLightLightColorKey}}"/>
                        </TextBlock.Foreground>Tháng</TextBlock>
                </TabItem.Header>
                <custom_controls:MonthEventCalendar
                    CalendarVM="{Binding CalendarVM}"
                    SelectedDate="{Binding CalendarVM.SelectedDate}" />
            </TabItem>
            <!-- Year view -->
            <TabItem>
                <TabItem.Header>
                    <TextBlock FontSize="14" FontWeight="Bold">
                        <TextBlock.Foreground>
                            <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.ControlLightLightColorKey}}"/>
                        </TextBlock.Foreground>Năm</TextBlock>
                </TabItem.Header>
            </TabItem>


            <!-- Event list view -->
            <TabItem>
                <TabItem.Header>
                    <TextBlock FontSize="14" FontWeight="Bold">
                        <TextBlock.Foreground>
                            <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.ControlLightLightColorKey}}"/>
                        </TextBlock.Foreground>Sự kiện</TextBlock>
                </TabItem.Header>
                <views:EventListView DataContext="{Binding EventListVM}" />
            </TabItem>
        </dragablz:TabablzControl>
    </Grid>
</UserControl>
